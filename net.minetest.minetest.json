{
  "$schema": "https://raw.githubusercontent.com/flatpak/flatpak-builder/main/data/flatpak-manifest.schema.json",
  "id": "net.minetest.minetest",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "23.08",
  "sdk": "org.freedesktop.Sdk",
  "command": "minetest",
  "finish-args": [
    "--socket=wayland",
    "--socket=fallback-x11",
    "--socket=pulseaudio",
    "--device=all",
    "--share=network"
  ],
  "modules": [
    {
      "name": "libluajit",
      "no-autogen": true,
      "make-args": [
        "PREFIX=/app"
      ],
      "make-install-args": [
        "PREFIX=/app"
      ],
      "cleanup": [
        "/bin"
      ],
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/LuaJIT/LuaJIT.git",
          "commit": "5790d253972c9d78a0c2aece527eda5b134bbbf7"
        }
      ]
    },
    {
      "name": "minetest",
      "buildsystem": "cmake-ninja",
      "config-opts": [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DENABLE_CURSES=0",
        "-DENABLE_GETTEXT=1"
      ],
      "sources": [
        {
          "type": "git",
          "path": "."
        }
      ]
    }
  ]
}